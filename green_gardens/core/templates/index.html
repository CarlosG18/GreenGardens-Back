{% load static %}

<!DOCTYPE html>
<html lang="{{config_site.linguagem}}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{config_site.descricao}}">

    <link rel="preload" href="{% static 'img/geral/logo.svg' %}" as="image">
    <link rel="preload" href="{% static 'img/slider/slider-img1.jpeg' %}" as="image">

    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <title>{{config_site.title}}</title>
</head>
<body>
    
    <header>
        <!--Navbar desktop-->
        <nav class="nav_bar container">

            <a href="#slider">
                <img src="{% static 'img/geral/logo.svg' %}" alt="Logo Green Gardens" class="navbar_logo">
            </a>

            <ul class="nav_links_desktop">
                <li><a href="#servicos">Serviços</a></li>
                <li><a href="#valores">Sobre nós</a></li>
                <li><a href="#contato">Contato</a></li>
            </ul>
            <!--Navbar mobile-->
            <ul class="nav_links_mobile">
                <li>
                    <a href="#servicos_mobile">
                        <img src="{% static 'img/navbar/servicos-icon.svg' %}" alt="Icone serviços">
                    </a>
                </li>

                <li>
                    <a href="#valores">
                        <img src="{% static 'img/navbar/valores-icon.svg' %}" alt="Icone valores">
                    </a>
                </li>

                <li>
                    <a href="#contato">
                        <img src="{% static 'img/navbar/contato-icon.svg' %}" alt="Icone contato">
                    </a>
                </li>
            </ul>
        </nav>
    </header>
    
    <main>

        <!--Seção slider-->
        <section id="slider" data-anima="scroll">
            <div class="swiper">
                <!-- Additional required wrapper -->
                <div class="swiper-wrapper">
                  <!-- Slides -->
                   {% for imagem in imgs_banner_principal %}
                        <div class="swiper-slide" style="content: '{{imagem.titulo}}';">
                            <div class="overlay"></div>
                            <img src="{{imagem.img.url}}" alt="{{imagem.alt}}">
                        </div>

                        <!-- If we need pagination -->
                        <div class="swiper-pagination"></div>
                    
                        <!-- If we need navigation buttons -->
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                   {% endfor %}
                
              
              </div>
        </section>

        <!--Seção home-->
        <section id="home" data-anima="scroll">
            <div class="side-a-side_grid">
                <div class="left_side">
                    <img src="{% static 'img/home/logo-Text.svg' %}" alt="Logo e Texto Green Gardens">
                    <div class="overlay"></div>
                </div>
                <div class="right_side">
                    <div class="right_side-content">
                        <img src="{% static 'img/geral/logo.svg' %}" alt="Logo Green Gardens">
                        <p>
                            {{sobre.descricao}}
                        </p>
                        <a href="#contato" class="home_contact_button">Entrar em Contato</a>
                    </div>
                    <img src="{% static 'img/geral/deco-verdeClaro.svg' %}" alt="Decoração em círculo" class="deco-home">
                </div>
            </div>
        </section> 
        
        <!--Seção serviços-->
        <section id="servicos" data-anima="scroll">
            <img src="{% static 'img/geral/deco-cinza.svg' %}" alt="Decoração cinza" class="deco_home-top">
            <div class="servicos container">
                <h1 class="section_title">{{secao_nossos_servicos.titulo}}</h1>
                <div class="servicos_grid container">
                    {% for imagem in imgs_nossos_servicos %}
                        <div class="servicos_card">
                            <img src="{{imagem.img.url}}" alt="{{imagem.alt}}">
                            <p>{{imagem.titulo}}</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <img src="{% static 'img/geral/deco-cinza.svg' %}" alt="Decoração cinza" class="deco_home-bottom">
        </section>

        <!--Seção serviços mobile-->
        <section id="servicos_mobile" data-anima="scroll">
            <h1 class="section_title container">Nossos serviços</h1>
            <div class="carrossel_servicos">
              
                <div class="swiper-wrapper">
                 
                    {% for imagem in imgs_nossos_servicos_mobile %}
                        <div class="swiper-slide">
                            <div class="servicos_mobile_card">
                                <img src="{{imagem.img.url}}" alt="{{imagem.alt}}">
                                <p class="container">{{imagem.titulo}}</p>
                            </div>
                        </div>
                    {% endfor %}
                
                </div>


             

                <div class="swiper-button-next-servicos">
                    <img src="{% static 'img/nossos_servicos/next-arrow.svg' %}" alt="Seta de próximo">
                </div>
                <div class="swiper-button-prev-servicos">
                    <img src="{% static 'img/nossos_servicos/prev-arrow.svg' %}" alt="Seta de anterior">
                </div>

             
              
         
              </div>
        </section>

         <!--Seção ebooks-->
        <section id="ebooks" data-anima="scroll">
            <div class="ebooks_grid container">
                <div class="ebooks_text">
                    <h1 class="section_title">E-books gratuitos</h1>
                    <p>
                        {{secao_ebook.descricao}}
                    </p>
                    <button data-buttonModal>Download gratuito</button>
                </div>
                <img src="{{ebook_principal.img_capa.url}}" alt="E-book de {{ebook_principal.assunto}}">
            </div>
            <img src="{% static 'img/geral/deco-verdeClaro.svg' %}" alt="Decoraçao serviços" class="deco_servicos">
        </section>

        <!--Seção ebooks mobile-->
        <section id="ebooks_mobile" data-anima="scroll">
            <h1 class="section_title container">E-books gratuitos</h1>
            <div class="ebooks_mobile_grid container">
                
                <p id="ebooks_mobile_text" class="ebooks_mobile_text">
                    {{secao_ebook.descricao}}
                    <span id="read_more_text" class="read_more_text">
                        Seja um expert em jardinagem e desfrute de um ambiente natural deslumbrante.    
                    </span>
                    <button id="show_more_text" class="show_more_text">... Leia mais</button>
                </p>

                <button class="buttonOpenModal_mobile" data-buttonModal>Download gratuito</button>

                <img src="{% static 'img/ebooks/ebook.webp' %}" alt="Guia de cuidados" class="ebooks_mobile_img">

            </div>
            <img src="{% static 'img/geral/deco-verdeClaro.svg' %}" alt="Decoraçao cinza" class="deco_ebooks_mobile">
        </section>
        
        <!--Seção valores-->
        <section id="valores" class="container" data-anima="scroll">
            <h1 class="section_title">{{secao_valores.titulo}}</h1>
            <img src="{% static 'img/geral/deco-cinza.svg' %}" alt="Decoração cinza" class="valores_deco">
            <div class="carrossel_valores">
                <div class="swiper-wrapper">
                    {% for imagem in imgs_valores %}
                        <div class="swiper-slide">
                            <img src="{{imagem.img.url}}" alt="{{imagem.alt_img}}">
                            <div class="overlay_card-text">
                                <h2>{{imagem.titulo}}</h2>
                                <p>
                                    {{imagem.descricao}}
                                </p>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!--Seção avaliação-->
        <section id="avaliacao" data-anima="scroll">
            <img src="{% static 'img/geral/deco-verdeClaro.svg' %}" alt="Decoraçao Avaliaçao" class="deco_avaliacao">
            <div class="avaliacao_grid">
                <div class="avaliacao_content container">
                    

                        <div class="avaliacao_text">
                            <img src="{% static 'img/avaliacao/quote-top.svg' %}" alt="Aspas" class="top_aspas">
                            <p>
                                {{avaliacao.comentario}}
                            </p>
                            <span>
                                {{avaliacao.autor}}
                            </span>
                            <img src="{% static 'img/avaliacao/quote-bottom.svg' %}" alt="Aspas" class="bottom_aspas">
                        </div>

                </div>
                
                <div style="background-image: url({{img_avaliacao.img.url}});" class="avaliacao_img_side"></div>
    
            </div>
        </section>

        <!--Seção galeria-->
        <section id="galeria" class="container" data-anima="scroll">
            <img src="{% static 'img/geral/deco-cinza.svg' %}" alt="Decoração cinza" class="deco_galeria_top">
            <h1 class="section_title">{{secao_galeria.titulo}}</h1>
            <div class="galeria_grid">
                {% for imagem in imgs_galeria %}
                    <img src="{{imagem.img.url}}" alt="{{imagem.alt_img}}" class="galeria_card">
                {% endfor %}
            </div>
            <button id="showMoreGaleria" class="button_show_more">
                <p>Veja mais</p>
                <img src="{% static 'img/galeria/seta.svg' %}" alt="Seta para a direita">
            </button>
            <img src="{% static 'img/geral/deco-cinza.svg' %}" alt="Decoração cinza" class="deco_galeria_bottom">
        </section>

        <!--Seção contato-->
        <section id="contato" data-anima="scroll">
          <div class="container grid_mobile">
            <h1 class="section_title">Contato</h1>
            <div class="contato_grid">
              <div class="local_side">
                <iframe src="{{config_site.maps}}" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                
                <div class="local_text">
                  <span class="informations">
                    <img src="{% static 'img/contato/pin-local.svg' %}" alt="Pin locaizaçao">
                    <p>
                      {{config_site.endereco}}
                    </p>
                  </span>
                  <span class="informations">
                    <img src="{% static 'img/contato/email-icon.svg' %}" alt="ícone do email">
                    <p>
                      {{config_site.email}}
                    </p>
                  </span>
                  <span class="informations">
                    <img src="{% static 'img/contato/telefone-icon.svg' %}" alt="ícone telefone">
                    <p>
                      {{config_site.telefone}}
                    </p>
                  </span>
                </div>
                
                <div class="social_links">
                  <a href="{{config_site.link_insta}}"><img src="{% static 'img/contato/insta-icon.svg' %}" alt="ícone Instagram"></a>
                  <a href="{{config_site.link_face}}"><img src="{% static 'img/contato/face-icon.svg' %}" alt="ícone Facebook"></a>

                </div>
              </div>

              <form action="{% url 'landingPage:index' %}" method="POST" class="form_contato">
                {% csrf_token %}

                <div class="side_a_side_input">
                    
                    <label for="{{form_contato.nome.name}}">{{form_contato.nome.label}} <br>
                        {{form_contato.nome}}
                    </label>
                    
                    <label for="{{form_contato.telefone.name}}">{{form_contato.telefone.label}} <br>
                        {{form_contato.telefone}}

                        {% for error in form_contato.telefone.errors %}
                            <div class="alert alert-danger" role="alert">
                                {{error}}
                            </div>  
                        {% endfor %}
                        
                    </label>

                </div>
                
                <label for="{{form_contato.email.name}}">{{form_contato.email.label}} <br>
                    {{form_contato.email}}
                    {% for error in form_contato.email.errors %}
                        <div class="alert-danger" role="alert">
                            {{error}}
                        </div>  
                    {% endfor %}
                </label>

                <label for="{{form_contato.mensagem.name}}">{{form_contato.mensagem.label}} <br>
                    {{form_contato.mensagem}}
                </label>

                <button type="submit" id="send_message">Enviar mensagem</button>
            </form>
            </div>
          </div> 
          
          <img src="{% static 'img/geral/deco-cinza.svg' %}" alt="Decoração cinza" class="deco_contato">

        </section>
    </main>

    <footer>
        <!--Footer da página-->
        <div class="footer_grid container">
            <img src="{% static 'img/footer/logo_footer.svg' %}" alt="Logo do footer" class="logo_footer">

            <div class="footer_contato">
                <h2>Contato</h2>

                <div class="email_telefone">
                    <p>
                        {{config_site.telefone}}
                        {{config_site.email}}
                    </p>
                </div>

                <div class="footer_local">
                    {{config_site.endereco}}
                </div>

                <div class="social_footer">
                    <a href="{{config_site.link_insta}}"><img src="{% static 'img/footer/insta-logo-white.svg' %}" alt="ícone Instagram"></a>
                    <a href="{{config_site.link_face}}"><img src="{% static 'img/footer/face-logo-white.svg' %}" alt="ícone Facebook"></a>
                </div>
            </div>

            <div class="footer_informations">
                <h2>Informações</h2>

                <div class="informations_text">
                    <p>Contato</p>
                    <p>E-books</p>
                    <p>Termos e Condições</p>
                </div>
            </div>
        </div>
    </footer>

    <!--Seção modal download ebook -->
    <section id="modal">
        <div class="modal_box">
            <form id="modalForm" action="{% url 'landingPage:download_ebook' %}" method="POST">
                {% csrf_token %}
                <div class="modal_side_input">
                    <label for="modalName">
                        {{form_ebook.nome.label}} <br>
                        {{form_ebook.nome}}
                    </label>
                    <label for="modalTelefone">
                        {{form_ebook.telefone.label}} <br>
                        {{form_ebook.telefone}}
                        {% for error in form_ebook.telefone.errors %}
                            <div class="alert-danger" role="alert">
                                {{error}}
                            </div>  
                        {% endfor %}
                    </label>
                </div>

                <label for="modalEmail">
                    {{form_ebook.email.label}} <br>
                    {{form_ebook.email}}
                    {% for error in form_ebook.email.errors %}
                        <div class="alert-danger" role="alert">
                            {{error}}
                        </div>  
                    {% endfor %}
                </label>

                <div class="modal_buttons">
                    <button id="backModalBtn">Voltar</button>
                    <button type="submit" id="dowloadModalBtn">Fazer download</button>
                </div>
            </form>

            {% if messages %}
                {% for msg in messages %}
                    {% if msg == "email enviado com sucesso!" %}
                        {{msg}}
                    {% endif %}
                {% endfor %}
            {% endif %}

            {% if messages %}
                {% for msg in messages %}
                    {% if msg == "email enviado com sucesso!" %}
                        <div class="download_finished" id="downloadFinished">
                            <p>O download foi realizado com sucesso, obrigado!</p>
                            <button id="CloseDowloadBtn">Voltar</button>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
            
        </div>
    </section>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js" defer></script>  <!--Link lib alertas-->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>   <!--Link lib slider-->
    <script type="module" src="{% static 'js/main.js' %}"></script>

    <!-- função para mandar pela url o tamanho da tela que está sendo exibida (width) para envio customizado do contexto -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            function loadContent() {
                var width = window.innerWidth;
        
                var xhr = new XMLHttpRequest();
                xhr.open("GET", "?width=" + width, true);
                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        document.getElementById("content-placeholder").innerHTML = xhr.responseText;
                    }
                };
                xhr.send();
            }
        
            window.addEventListener("resize", loadContent);
            loadContent();  // Load content on page load
        });
        </script>
</body>
</html>